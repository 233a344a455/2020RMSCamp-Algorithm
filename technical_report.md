# RoboMaster2020高中生夏令营 算法技术报告 



RoboMaster2020高中生夏令营 算法组 工程

本项目仅用于个人备份



## 零、任务目标

![](https://raw.githubusercontent.com/233a344a455/2020RMSCamp-Algorithm/master/alg.png)



## 一、 概述

任务主要分为 数字识别 与 手写数字识别 两大部分

1. 手写数字识别：使用 numpy 编写全连接神经网络进行预测
2. 连线算法：使用 启发式搜索(模拟退火) 配合 局部贪心 获取近似全局最优解

![](https://raw.githubusercontent.com/233a344a455/2020RMSCamp-Algorithm/master/flow_chart.png)

## 二、需求分析与方案设计

### 1、 数字识别部分

1. #### 对原始图像进行预处理

   - 分离RGB获取单色黑白图像与数字颜色
   - 对图像归一化标准化，提高网络的识别准确性

2. #### 使用训练好的模型进行预测

   主体使用基于numpy手写实现的全连接神经网络

   - 使用 Adam 优化器进行梯度下降
   - 使用 BatchNorm 加速收敛速度
   - 使用 LeakyReLU、Softmax 激活函数
   - 使用 Dropout 层防止过拟合
   - 使用 交叉熵 计算loss
   - 使用 周期 learningrate 加速收敛
   - 使用 He Initialization 初始化参数加速收敛

3. #### 对预测结果进行奇偶校验，更改预测错误的数字

   由于测试中没有出现识别错误多余1个的情况。

   因此只需找出对每种识别出来的数字总数求和，找出两个奇数个的数字，再通过寻找这两个数字中未经过one_hot解码的值中可能性最小的一个(一般比正确的输出值小的多，多数情况下只有0.4左右)，即可预先定位并处理错误的数字

### 2、 配对消除算法

1. #### link_search 获取图中任意两个点连接需要的转折数

   通过分别查找1-3个拐点是否合法，进行了大量优化，可在最多15µs内完成一次任务。为create_new_path快速生成新路径服务

2. #### create_new_path 基于局部贪心为SA生成当前解的邻域新解，即相似的可行路径

   通过接受一个来自SA的大致顺序列表，通过交换随机的两点来生成新路径，并使用贪心确保路径的可行性与局部最优性，且在这里考虑了特殊配对次数时的分数双倍，完善最优性。为 simulated_annealing 服务

3. #### simulated_annealing 启发式搜索模拟退火(SA)，获取近似全局最优解

   使用模拟退火(SA)，根据Metropolis准则接受由create_new_path产生的新路径，最终收敛于全局最优解领域

   

## 二、 运行结果展示

### 1. 数字识别

训练集中达到 99.87%，测试集达到 98.96%（训练epoch=30, lr=0.0015 ± 0.0005）

在测试环境下可达到约65%的概率全对，其余错一个（尚未测试发现错误超过一个的情况）（样本容量：200次测试结果）

### 2. 连线算法

以下为**运行10次中最高分的一次**的运行结果

下图中plt绘图，为模拟退火时过程中的分数变动图

在随机数据的测试环境下，**结果在1220上下波动**（样本量：10次）



## 三、 理论分析

### 1、 算法亮点

手写全连接神经网络(NN)完成数字识别，mnist准确率接近使用cpu计算的全连接神经网络极限

使用局部贪心，保证了局部的最优性，也保证了模拟退火迭代的次数确保了全局的相对最优性

同时使用启发式搜索算法(模拟退火)，能相较于其他部分搜索算法能**相对稳定**的给出最优的近似解

### 2、 算法不足

SA算法具有极强的并行性，做多进程能大大迭代次数，但很遗憾没时间做了



